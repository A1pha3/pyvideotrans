# 文档贡献指南

本文指导如何为 pyvideotrans 文档做出修改与新增，确保内容准确、结构统一、风格一致。

## 提交流程

1. 基于最新主分支创建功能分支（例如 docs/update-api-params）。
2. 在 docs 下对应子目录进行修改或新增文件，遵循本文规范。
3. 自查通过“提交前检查清单”，本地预览 Markdown（推荐 VSCode Markdown 预览或任意渲染工具）。
4. 提交 PR，并在描述中简述变更范围、动机与影响面，附重要截图/命令输出（如适用）。

## 目录与命名规范

- 目录层级
  - api/：API 参考文档（按语言后缀或子文件区分）
  - guides/：使用/部署/实践类指南
  - providers/：各云厂商/第三方服务的对接与说明
  - locales/<lang>/：本地化文档（readme.md 为入口；必要时添加子文档）
  - about.md：关于与捐助页
- 命名要求
  - 一律使用小写；多词使用连字符（kebab-case）：如 google-cloud-tts.md
  - 本地化目录名使用标准语言/地区码（示例：pt-br）
  - 文件扩展名统一为 .md

## 内容与风格约定

- 标题层级
  - 文档唯一 H1（#），其后依次为 H2（##）、H3（###）；避免跳级。
- 代码块
  - 使用 ``` 并标注语言（bash、python、json 等）；命令行示例避免含交互步骤，尽量可直接复制运行。
- 术语与参数
  - 与实际代码与 UI 保持一致：例如 target_language、split_type: all/avg。
  - 统一值域展示与默认值格式：表格列包含“是否必选/默认值/可选值/说明”。
- 链接与资源
  - 优先相对路径（避免硬编码域名）；外链需可访问，并附清晰锚文本。
  - 图片使用外链时需保证可长期访问；如失效，请更新或移除。
- 多语言一致性
  - locales 下各语言页的结构大体一致：顶部语言切换、主要能力列表、安装/部署、常见问题/参考链接等。

## 提交前检查清单

- 结构
  - [ ] 文件放置在正确目录，命名为小写+连字符
  - [ ] 目录与导航未破坏（如需新增导航，请同步 docs/README.md）
- 内容
  - [ ] 示例命令可复制运行，无交互/缺失前置条件
  - [ ] 参数名/取值与代码一致（如 split_type: all/avg）
  - [ ] 不包含合并冲突标记（<<<<<<<、=======、>>>>>>>）
  - [ ] 移除过时或无效链接，校验外链有效性
- 语言
  - [ ] 使用简洁准确、专业一致的语气
  - [ ] 中英文/多语言页面结构一致，链接互通
- 变更说明
  - [ ] PR 描述清晰，列出影响范围、动机与验证方式

## 本地化新增指引

1. 在 locales/<lang>/ 新建 readme.md，顶部加入语言切换导航，参照现有语言页的链接书写方式。
2. 如需子文档（示例、下载、FAQ 等），同目录新增独立文件，命名全部小写。
3. 语言页内跨引用 docs 顶层文件时，使用相对路径（如 ../../about.md）。

## 常见问题（文档维护）

- 如何统一分支合并产生的冲突标记？
  - 手工删除 <<<<<<<、=======、>>>>>>>，仅保留“期望”版本；严禁将冲突标记提交到仓库。
- 是否可以在文档中加入版本号/截图？
  - 可以，但应尽量避免硬编码易变版本；若必须，请在 PR 描述中标注“需按发布节奏更新”。
- 发现 API 示例与代码不一致怎么办？
  - 优先以代码为准，修正文档，并在 PR 中附带对应源码位置或提交哈希便于审查。

## 参考

- 总览与导航：docs/README.md
- API：docs/api/api.md、docs/api/api.en.md
- 关于/捐助：docs/about.md