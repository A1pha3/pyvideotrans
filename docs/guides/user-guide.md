# 用户使用指南

本指南将帮助您快速掌握 PyVideoTrans 的各种功能和使用方法。

## 界面介绍

PyVideoTrans 采用直观的图形界面设计，主要包含以下几个区域：

### 主要功能区

1. **文件选择区** - 选择要处理的视频、音频或字幕文件
2. **语言设置区** - 设置源语言和目标语言
3. **模型选择区** - 选择语音识别和翻译模型
4. **输出设置区** - 配置输出格式和保存位置
5. **进度显示区** - 显示处理进度和状态信息

## 主要功能

### 1. 视频翻译配音

将视频从一种语言翻译成另一种语言，并添加配音。

#### 操作步骤：

1. **选择视频文件**
   - 点击"选择视频"按钮
   - 支持格式：MP4, AVI, MOV, MKV, FLV 等

2. **设置语言**
   - 源语言：视频中的原始语言
   - 目标语言：要翻译成的语言

3. **选择模型**
   - 语音识别：推荐使用 `faster-whisper` 系列
   - 翻译服务：可选择 Google、Microsoft、DeepL 等
   - 语音合成：推荐 Microsoft Edge TTS

4. **配置输出**
   - 选择输出目录
   - 设置输出文件名
   - 选择是否保留原始音轨

5. **开始处理**
   - 点击"开始翻译"按钮
   - 等待处理完成

#### 高级设置：

- **背景音乐分离**：启用后可保留背景音乐
- **语速调整**：调整配音语速以匹配原视频
- **音量平衡**：调整原声和配音的音量比例

### 2. 音视频转字幕

将音频或视频文件中的语音转换为文字字幕。

#### 操作步骤：

1. **选择文件**
   - 支持音频：MP3, WAV, FLAC, AAC 等
   - 支持视频：MP4, AVI, MOV 等

2. **选择识别模型**
   - 小文件：使用 tiny 或 base 模型
   - 大文件：使用 small 或 medium 模型
   - 高精度：使用 large 模型

3. **设置语言**
   - 选择音频中的语言
   - 支持自动检测

4. **开始识别**
   - 点击"开始识别"
   - 生成 SRT 字幕文件

#### 字幕优化：

- **时间轴调整**：微调字幕显示时间
- **文本编辑**：修正识别错误
- **格式转换**：支持 SRT, VTT, ASS 等格式

### 3. 批量字幕处理

#### 批量创建配音

基于现有字幕文件批量生成配音：

1. **选择字幕文件**
   - 支持单个或多个 SRT 文件
   - 确保字幕格式正确

2. **选择语音**
   - 选择语音合成服务
   - 配置语音参数（语速、音调等）

3. **批量处理**
   - 自动为每个字幕文件生成对应音频

#### 批量翻译字幕

将字幕翻译成其他语言：

1. **选择字幕文件**
   - 支持批量选择
   - 确保字幕内容完整

2. **设置翻译**
   - 选择翻译服务
   - 设置源语言和目标语言

3. **开始翻译**
   - 生成翻译后的字幕文件

### 4. 媒体文件合并

将音频、视频、字幕合并为一个完整的视频文件。

#### 操作步骤：

1. **选择文件**
   - 视频文件（可选）
   - 音频文件（必需）
   - 字幕文件（可选）

2. **设置参数**
   - 输出分辨率
   - 音频质量
   - 字幕样式

3. **开始合并**
   - 生成最终视频文件

### 5. 音频提取

从视频中提取音频文件。

#### 操作步骤：

1. **选择视频文件**
2. **选择音频格式**：MP3, WAV, FLAC 等
3. **设置音质**：比特率、采样率等
4. **开始提取**

### 6. YouTube 视频下载

直接从 YouTube 下载视频进行处理。

#### 操作步骤：

1. **输入 URL**
   - 粘贴 YouTube 视频链接
   - 支持播放列表

2. **选择质量**
   - 视频质量：1080p, 720p, 480p 等
   - 音频质量：128kbps, 192kbps 等

3. **开始下载**
   - 自动下载并可直接处理

## 模型选择建议

### 语音识别模型

| 模型 | 大小 | 速度 | 精度 | 适用场景 |
|------|------|------|------|----------|
| tiny | 最小 | 最快 | 一般 | 快速预览 |
| base | 小 | 快 | 良好 | 日常使用 |
| small | 中等 | 中等 | 很好 | 推荐使用 |
| medium | 大 | 慢 | 优秀 | 高质量需求 |
| large | 最大 | 最慢 | 最佳 | 专业用途 |

### 翻译服务选择

| 服务 | 特点 | 适用语言 | 费用 |
|------|------|----------|------|
| Google Translate | 免费，快速 | 100+ | 免费 |
| Microsoft Translator | 质量好 | 70+ | 免费 |
| DeepL | 质量最佳 | 30+ | 部分免费 |
| ChatGPT | 智能化 | 50+ | 付费 |
| 离线翻译 | 无网络要求 | 有限 | 免费 |

### 语音合成推荐

| 服务 | 特点 | 语言支持 | 音质 |
|------|------|----------|------|
| Microsoft Edge TTS | 免费，自然 | 多语言 | 优秀 |
| Google TTS | 稳定 | 多语言 | 良好 |
| Azure AI TTS | 专业级 | 多语言 | 最佳 |
| OpenAI TTS | 最自然 | 英语为主 | 最佳 |

## 性能优化

### 硬件优化

1. **CPU 优化**
   - 使用多核处理器
   - 关闭不必要的程序
   - 确保充足的内存

2. **GPU 加速**
   - 安装 NVIDIA 显卡驱动
   - 配置 CUDA 环境
   - 启用 GPU 加速选项

3. **存储优化**
   - 使用 SSD 存储
   - 确保充足的磁盘空间
   - 定期清理临时文件

### 软件设置

1. **模型选择**
   - 根据硬件性能选择合适模型
   - 平衡速度和质量需求

2. **并发设置**
   - 根据 CPU 核心数调整并发数量
   - 避免过度并发导致系统卡顿

3. **缓存设置**
   - 启用模型缓存
   - 定期清理过期缓存

## 常见问题

### 处理速度慢

**原因**：硬件性能不足或模型过大

**解决方案**：
1. 使用较小的模型（如 base 代替 large）
2. 启用 GPU 加速
3. 减少并发处理数量
4. 关闭其他占用资源的程序

### 识别准确率低

**原因**：音频质量差或模型选择不当

**解决方案**：
1. 使用更大的模型（如 large）
2. 预处理音频（降噪、增强）
3. 确保音频格式正确
4. 选择正确的语言设置

### 翻译质量差

**原因**：翻译服务选择不当或语言对支持有限

**解决方案**：
1. 尝试不同的翻译服务
2. 使用 DeepL 或 ChatGPT 获得更好质量
3. 手动校正翻译结果
4. 分段处理长文本

### 音视频同步问题

**原因**：处理过程中时间轴偏移

**解决方案**：
1. 检查原始文件质量
2. 调整时间轴参数
3. 使用音频对齐功能
4. 手动微调同步

## 最佳实践

### 文件准备

1. **音频质量**
   - 使用清晰的音频源
   - 避免背景噪音
   - 确保音量适中

2. **文件格式**
   - 推荐使用 MP4 格式视频
   - 音频推荐 WAV 或高质量 MP3
   - 字幕使用标准 SRT 格式

### 工作流程

1. **测试阶段**
   - 先用小文件测试设置
   - 验证输出质量
   - 调整参数配置

2. **批量处理**
   - 使用一致的设置
   - 分批处理大量文件
   - 定期检查输出质量

3. **质量控制**
   - 人工审核关键内容
   - 建立质量检查流程
   - 保留原始文件备份

### 项目管理

1. **目录结构**
   ```
   project/
   ├── source/          # 原始文件
   ├── output/          # 输出文件
   ├── temp/           # 临时文件
   └── backup/         # 备份文件
   ```

2. **命名规范**
   - 使用有意义的文件名
   - 包含语言和版本信息
   - 避免特殊字符

3. **版本控制**
   - 记录处理参数
   - 保存多个版本
   - 建立回滚机制

## 故障排除

### 程序崩溃

1. 检查日志文件 `logs/app-log-*.txt`
2. 确认系统资源充足
3. 重启程序重试
4. 更新到最新版本

### 输出异常

1. 检查输入文件完整性
2. 验证参数设置正确性
3. 清理临时文件
4. 重新处理

### 网络问题

1. 检查网络连接
2. 配置代理设置
3. 使用离线模式
4. 更换服务提供商

## 获取帮助

- [常见问题解答](faq.md)
- [GitHub Issues](https://github.com/jianchang512/pyvideotrans/issues)
- [Discord 社区](https://discord.gg/y9gUweVCCJ)
- [官方文档](https://pyvideotrans.com)

## 相关资源

- [API 文档](../api/api.md)
- [模型下载](model-download.md)
- [服务商配置](../providers/)
- [贡献指南](../contributing.md)